---
const features = [
  {
    title: "Real-Time Attack Surface Monitoring",
    description: "Continuously scan and monitor your entire digital footprint for vulnerabilities and potential security gaps.",
    icon: "radar"
  },
  {
    title: "Automated Vulnerability Detection",
    description: "Identify critical vulnerabilities with smart scanning technology that prioritizes threats based on exploitability and impact.",
    icon: "shield"
  },
  {
    title: "Asset Discovery & Inventory",
    description: "Automatically discover and catalog all your digital assets, including shadow IT and forgotten infrastructure.",
    icon: "search"
  },
  {
    title: "Risk Prioritization Engine",
    description: "Focus your security efforts where they matter most with our AI-driven risk scoring methodology.",
    icon: "bar-chart"
  },
  {
    title: "Security Posture Management",
    description: "Track your organization's security posture over time and benchmark against industry standards.",
    icon: "trending-up"
  },
  {
    title: "Integration Ecosystem",
    description: "Seamlessly connect with your existing security and DevOps tools to create a unified security workflow.",
    icon: "layers"
  }
];
---

<section id="features" class="py-20 bg-background">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16" data-animate="fade-up">
      <h2 class="text-3xl md:text-4xl font-bold mb-4">Comprehensive Security Features</h2>
      <p class="text-lg text-muted-foreground max-w-3xl mx-auto">
        Our platform provides all the tools you need to identify, prioritize, and mitigate security threats across your digital landscape.
      </p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {features.map((feature, index) => (
        <div 
          class="bg-card rounded-lg p-6 shadow-sm border border-border hover:shadow-md transition-shadow"
          data-animate="fade-up"
          data-animate-delay={`${index * 100}`}
        >
          <div class="rounded-full bg-primary/10 w-12 h-12 flex items-center justify-center mb-4">
            {feature.icon === "radar" && (
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="12" r="9"/><path d="M21 12a9 9 0 0 0-9-9"/><path d="M12 3a9 9 0 0 0-9 9"/></svg>
            )}
            {feature.icon === "shield" && (
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
            )}
            {feature.icon === "search" && (
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
            )}
            {feature.icon === "bar-chart" && (
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary"><line x1="12" x2="12" y1="20" y2="10"/><line x1="18" x2="18" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="16"/></svg>
            )}
            {feature.icon === "trending-up" && (
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></svg>
            )}
            {feature.icon === "layers" && (
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-primary"><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></svg>
            )}
          </div>
          <h3 class="text-xl font-semibold mb-2">{feature.title}</h3>
          <p class="text-muted-foreground">{feature.description}</p>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  function setupFeaturesAnimation() {
    const animatedElements = document.querySelectorAll('[data-animate]');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const el = entry.target;
          const delay = el.getAttribute('data-animate-delay') || 0;
          
          setTimeout(() => {
            el.classList.add('visible');
            observer.unobserve(el);
          }, parseInt(delay));
        }
      });
    }, { threshold: 0.1 });
    
    animatedElements.forEach(element => {
      observer.observe(element);
    });
  }
  
  document.addEventListener('astro:page-load', setupFeaturesAnimation);
</script>

<style>
  [data-animate] {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }
  
  [data-animate].visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>